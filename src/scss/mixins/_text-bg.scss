@use "sass:string";

@mixin _current-color-vars-important($current-color-rgb) {
  --u-current-text-color-rgb: #{$current-color-rgb} !important;
  --u-text-opacity: 1;
  color: rgba(var(--u-current-text-color-rgb), var(--u-text-opacity)) !important;
}

@mixin _bg-variant-important($color-name) {
  .u-bg-#{$color-name} {
    background-color: var(--u-color-#{$color-name}) !important;
  }
}

@mixin _text-bg-variant-important($color-name) {

  $on-color-name: on-#{$color-name};

  $container-index: string.index($on-color-name, "surface-container");
  @if $container-index != null {
    $on-color-name: #{string.slice($on-color-name, 1, $container-index - 1)}surface;
  }

  .u-text-bg-#{$color-name} {
    @include _current-color-vars-important(var(--u-color-#{$on-color-name}-rgb));
    background-color: var(--u-color-#{$color-name}) !important;

    --u-divider-color: rgb(var(--u-current-text-color-rgb)) !important;
    --u-divider-opacity: .4 !important;
  }
}
